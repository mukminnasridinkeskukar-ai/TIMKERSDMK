<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Form Pendaftaran SDMK</title>
<style>
body{font-family:Arial;background:#f4f6f9}
form{max-width:800px;margin:20px auto;background:#fff;padding:20px;border-radius:8px}
label{font-weight:bold}
input,select{width:100%;padding:8px;margin:6px 0 12px}
.radio-group{display:flex;gap:20px}
.progress{background:#ddd;border-radius:20px;overflow:hidden;margin:15px 0}
.progress-bar{height:20px;background:#28a745;width:0%}
button{background:#007bff;color:#fff;padding:10px;border:none;width:100%;font-size:16px}
</style>
</head>
<body>

<form id="daftarForm">
<h2>Pendaftaran Kegiatan SDMK</h2>

<label>Nama Lengkap</label>
<input required name="nama">

<label>NIP</label>
<input required name="nip">

<label>Unit Kerja</label>
<input required name="unit">

<label>Status Pegawai</label>
<div class="radio-group">
<label><input type="radio" name="status" value="PNS" required> PNS</label>
<label><input type="radio" name="status" value="PPPK"> PPPK</label>
</div>

<label>Jenis SDMK</label>
<input required name="jenis">

<label>Jumlah JP Terakhir</label>
<input type="number" required name="jp_terakhir">

<label>Tema Pembelajaran</label>
<input required name="tema">

<label>Tanggal Kegiatan</label>
<input type="date" required name="tanggal">

<label>Jumlah JP</label>
<input type="number" required name="jp">

<label>Platform Digital</label>
<div class="radio-group">
<label><input type="radio" name="platform" value="Zoom" required> Zoom</label>
<label><input type="radio" name="platform" value="Youtube"> Youtube</label>
</div>

<label>Whatsapp / Telpon</label>
<input required name="wa">

<label>Email Aktif</label>
<input type="email" required name="email">

<div class="progress">
  <div class="progress-bar" id="progressBar"></div>
</div>

<button type="submit">DAFTAR</button>
<p id="notif"></p>
</form>

<script>
const form = document.getElementById("daftarForm");
const notif = document.getElementById("notif");
const bar = document.getElementById("progressBar");

form.addEventListener("submit", e => {
  e.preventDefault();
  bar.style.width = "50%";
  notif.innerHTML = "Mengirim data...";

  const data = Object.fromEntries(new FormData(form));

  fetch("https://script.google.com/macros/s/AKfycbzhVt_Hekgrp1pO0Z5UPAxRtIz-IxV7FWV1XLfkYnhOMbCkJbnT7rIhrc_1-rWEyaRFGA/exec", {
    method: "POST",
    body: JSON.stringify(data)
  })
  .then(r => r.json())
  .then(res => {
    if(res.status==="success"){
      bar.style.width = "100%";
      notif.innerHTML = "✅ Pendaftaran berhasil";
      form.reset();
    }else{
      bar.style.width = "0%";
      notif.innerHTML = "❌ " + res.message;
    }
  })
  .catch(()=>{
    bar.style.width = "0%";
    notif.innerHTML = "❌ Gagal koneksi";
  });
});
</script>

</body>
</html>
